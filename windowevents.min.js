!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.WindowEvents=t()}}(function(){return function t(e,i,n){function o(r,l){if(!i[r]){if(!e[r]){var a="function"==typeof require&&require;if(!l&&a)return a(r,!0);if(s)return s(r,!0);var h=new Error("Cannot find module '"+r+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[r]={exports:{}};e[r][0].call(c.exports,function(t){var i=e[r][1][t];return o(i?i:t)},c,c.exports,t,e,i,n)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(t,e,i){function n(t){return"[object Function]"===Object.prototype.toString.call(t)}var o=0,s=[],r={on:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],i=n(e);if(t&&e&&i){var r=!1,l={id:"cov_"+ ++o,fn:e};if(s.forEach(function(e){if(e.name===t)return e.callbacks.push(l),void(r=!0)}),!r){var a={name:t,callbacks:[l]};s.push(a)}return l.id}return!1},once:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],i="cov_"+(o+1),n=function(){e.apply(null,arguments),this.off(t,i)}.bind(this);return this.on(t,n),i},signal:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];return t&&s.forEach(function(i){if(i.name===t)return void i.callbacks.forEach(function(t){t.fn.apply(null,e)})}),this},off:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return t&&s.forEach(function(i,n,o){if(i.name===t)return void(e?i.callbacks.forEach(function(t,i,n){t.id===e&&n.splice(i,1)}):o.splice(n,1))}),this}};e.exports=r},{}],2:[function(t,e,i){var n=t("./throttle");e.exports=function(t,e,i){return void 0===i?n(t,e,!1):n(t,i,e!==!1)}},{"./throttle":3}],3:[function(t,e,i){e.exports=function(t,e,i,n){function o(){function o(){r=Number(new Date),i.apply(a,c)}function l(){s=void 0}var a=this,h=Number(new Date)-r,c=arguments;n&&!s&&o(),s&&clearTimeout(s),void 0===n&&h>t?o():e!==!0&&(s=setTimeout(n?l:o,void 0===n?t-h:t))}var s,r=0;return"boolean"!=typeof e&&(n=i,i=e,e=void 0),o}},{}],4:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r=t("covjs"),l=n(r),a=t("throttle-debounce/debounce"),h=n(a),c=t("throttle-debounce/throttle"),u=n(c),d=t("./scroll"),f=n(d),p=t("./resize"),g=n(p),v=t("./visibility"),w=n(v),b=t("./load"),y=n(b),S=function t(e){var i=this;o(this,t);var n={scrollDelay:100,resizeDelay:350};this.options=e?s({},n,e):n,this.on=l.default.on,this.once=l.default.once,this.off=l.default.off;var r=new g.default(l.default,this.options),a=new f.default(l.default,this.options,r),c=new w.default(l.default,this.options),d=new y.default(l.default,this.options);this.getState=function(){return s({},r.getState(),a.getState(),c.getState(),d.getState())},this.updateState=function(){return r.updateState(),a.updateState(),c.updateState(),d.updateState(),i.getState()},window.addEventListener("scroll",(0,h.default)(this.options.scrollDelay,!0,a.debouncedListener),!1),window.addEventListener("scroll",(0,u.default)(this.options.scrollDelay,!1,a.throttledListener),!1),window.addEventListener("resize",(0,h.default)(this.options.resizeDelay,!0,r.debouncedListener),!1),window.addEventListener("resize",(0,u.default)(this.options.resizeDelay,!1,r.throttledListener),!1),window.addEventListener("visibilitychange",c.changeListenter,!1),document.addEventListener("readystatechange",function(){i.updateState(),d.changeListenter()},!1)};e.exports=S},{"./load":5,"./resize":6,"./scroll":7,"./visibility":8,covjs:1,"throttle-debounce/debounce":2,"throttle-debounce/throttle":3}],5:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(){function t(e,i){n(this,t),this.signal=e.signal,this.options=i,this.changeListenter=this.changeListenter.bind(this),this.updateState()}return o(t,[{key:"updateState",value:function(){this.loaded=document.readyState}},{key:"getState",value:function(){return{loaded:this.loaded}}},{key:"changeListenter",value:function(){this.loaded=document.readyState;var t={loaded:this.loaded};this.signal("load",[t]),"interactive"===this.loaded?this.signal("load.interactive",[t]):"complete"===this.loaded&&this.signal("load.complete",[t])}}]),t}();i.default=s},{}],6:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(){function t(e,i){n(this,t),this.signal=e.signal,this.options=i,this.resizeTimeout=null,this.debouncedListener=this.debouncedListener.bind(this),this.throttledListener=this.throttledListener.bind(this),this.updateState()}return o(t,[{key:"updateState",value:function(){this.height=this.lastH=window.innerHeight,this.width=this.lastW=window.innerWidth,this.scrollHeight=this.lastS=document.body.scrollHeight,this.orientation=this.lastO=this.height>this.width?"portrait":"landscape"}},{key:"getState",value:function(){return{height:this.height,width:this.width,scrollHeight:this.scrollHeight,orientation:this.orientation}}},{key:"debouncedListener",value:function(){this.height=window.innerHeight,this.width=window.innerWidth,this.scrollHeight=document.body.scrollHeight,this.orientation=this.height>this.width?"portrait":"landscape";var t={height:this.height,width:this.width,scrollHeight:this.scrollHeight,orientation:this.orientation};this.signal("resize.start",[t]),this.lastH=this.height,this.lastW=this.width,this.lastS=this.scrollHeight}},{key:"throttledListener",value:function(){var t=this;this.height=window.innerHeight,this.width=window.innerWidth,this.scrollHeight=document.body.scrollHeight,this.orientation=this.height>this.width?"portrait":"landscape";var e={height:this.height,width:this.width,scrollHeight:this.scrollHeight,orientation:this.orientation};this.signal("resize",[e]),this.orientation!==this.lastO&&this.signal("resize.orientationChange",[e]),this.scrollHeight!==this.lastS&&this.signal("resize.scrollHeightChange",[e]),clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(function(){t.signal("resize.stop",[e])},this.options.resizeDelay+1),this.lastH=this.height,this.lastW=this.width,this.lastS=this.scrollHeight,this.lastO=this.orientation}}]),t}();i.default=s},{}],7:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(){function t(e,i,o){n(this,t),this.signal=e.signal,this.options=i,this.windowSize=o,this.scrollTimeout=null,this.debouncedListener=this.debouncedListener.bind(this),this.throttledListener=this.throttledListener.bind(this),this.updateState()}return o(t,[{key:"updateState",value:function(){this.scrollTop=this.lastScrollTop=window.scrollY||window.pageYOffset,this.scrollPercent=this.scrollTop/(this.windowSize.scrollHeight-this.windowSize.height)*100}},{key:"getState",value:function(){return{scrollTop:this.scrollTop,scrollPercent:this.scrollPercent}}},{key:"debouncedListener",value:function(){this.scrollTop=window.scrollY||window.pageYOffset,this.scrollPercent=this.scrollTop/(this.windowSize.scrollHeight-this.windowSize.height)*100,this.signal("scroll.start",[{scrollTop:this.scrollTop,scrollPercent:this.scrollPercent}]),this.lastScrollTop=this.scrollTop}},{key:"throttledListener",value:function(){var t=this;this.scrollTop=window.scrollY||window.pageYOffset,this.scrollPercent=this.scrollTop/(this.windowSize.scrollHeight-this.windowSize.height)*100;var e={scrollTop:this.scrollTop,scrollPercent:this.scrollPercent};this.signal("scroll",[e]),this.scrollTop>this.lastScrollTop?this.signal("scroll.down",[e]):this.scrollTop<this.lastScrollTop&&this.signal("scroll.up",[e]),this.scrollTop<=0&&this.signal("scroll.top",[e]),e.scrollPercent>=100&&this.signal("scroll.bottom",[e]),clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(function(){t.signal("scroll.stop",[e])},this.options.scrollDelay+1),this.lastScrollTop=this.scrollTop}}]),t}();i.default=s},{}],8:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(){function t(e,i){n(this,t),this.signal=e.signal,this.options=i,this.changeListenter=this.changeListenter.bind(this),this.updateState()}return o(t,[{key:"updateState",value:function(){this.visible=!document.hidden}},{key:"getState",value:function(){return{visible:this.visible}}},{key:"changeListenter",value:function(){this.visible=!document.hidden;var t={visible:this.visible};this.signal("visibilityChange",[t]),this.visible?this.signal("visibilityChange.show",[t]):this.signal("visibilityChange.hide",[t])}}]),t}();i.default=s},{}]},{},[4])(4)});