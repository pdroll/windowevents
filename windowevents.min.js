!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,i.WindowEvents=t()}}(function(){return function t(i,e,n){function o(r,l){if(!e[r]){if(!i[r]){var h="function"==typeof require&&require;if(!l&&h)return h(r,!0);if(s)return s(r,!0);var a=new Error("Cannot find module '"+r+"'");throw a.code="MODULE_NOT_FOUND",a}var c=e[r]={exports:{}};i[r][0].call(c.exports,function(t){var e=i[r][1][t];return o(e?e:t)},c,c.exports,t,i,e,n)}return e[r].exports}for(var s="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(t,i,e){function n(t){return"[object Function]"===Object.prototype.toString.call(t)}var o=0,s=[],r={on:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],i=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],e=n(i);if(t&&i&&e){var r=!1,l={id:"cov_"+ ++o,fn:i};if(s.forEach(function(i){if(i.name===t)return i.callbacks.push(l),void(r=!0)}),!r){var h={name:t,callbacks:[l]};s.push(h)}return l.id}return!1},once:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],i=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],e="cov_"+(o+1),n=function(){i.apply(null,arguments),this.off(t,e)}.bind(this);return this.on(t,n),e},signal:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],i=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];return t&&s.forEach(function(e){if(e.name===t)return void e.callbacks.forEach(function(t){t.fn.apply(null,i)})}),this},off:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],i=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return t&&s.forEach(function(e,n,o){if(e.name===t)return void(i?e.callbacks.forEach(function(t,e,n){t.id===i&&n.splice(e,1)}):o.splice(n,1))}),this}};i.exports=r},{}],2:[function(t,i,e){var n=t("./throttle");i.exports=function(t,i,e){return void 0===e?n(t,i,!1):n(t,e,i!==!1)}},{"./throttle":3}],3:[function(t,i,e){i.exports=function(t,i,e,n){function o(){function o(){r=Number(new Date),e.apply(h,c)}function l(){s=void 0}var h=this,a=Number(new Date)-r,c=arguments;n&&!s&&o(),s&&clearTimeout(s),void 0===n&&a>t?o():i!==!0&&(s=setTimeout(n?l:o,void 0===n?t-a:t))}var s,r=0;return"boolean"!=typeof i&&(n=e,e=i,i=void 0),o}},{}],4:[function(t,i,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var s=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},r=t("covjs"),l=n(r),h=t("throttle-debounce/debounce"),a=n(h),c=t("throttle-debounce/throttle"),u=n(c),d=t("./scroll"),f=n(d),g=t("./resize"),p=n(g),v=t("./visibility"),w=n(v),b=function t(i){o(this,t);var e={scrollDelay:100,resizeDelay:350};this.options=i?s({},e,i):e,this.on=l.default.on,this.once=l.default.once,this.off=l.default.off;var n=new p.default(l.default,this.options),r=new f.default(l.default,this.options,n),h=new w.default(l.default,this.options);window.addEventListener("scroll",(0,a.default)(this.options.scrollDelay,!0,r.debouncedListener)),window.addEventListener("scroll",(0,u.default)(this.options.scrollDelay,!1,r.throttledListener)),window.addEventListener("resize",(0,a.default)(this.options.resizeDelay,!0,n.debouncedListener)),window.addEventListener("resize",(0,u.default)(this.options.resizeDelay,!1,n.throttledListener)),window.addEventListener("visibilitychange",h.changeListenter),this.getState=function(){return s({},n.getState(),r.getState(),h.getState())}};i.exports=b},{"./resize":5,"./scroll":6,"./visibility":7,covjs:1,"throttle-debounce/debounce":2,"throttle-debounce/throttle":3}],5:[function(t,i,e){"use strict";function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}(),s=function(){function t(i,e){n(this,t),this.signal=i.signal,this.options=e,this.height=this.lastH=window.innerHeight,this.width=this.lastW=window.innerWidth,this.scrollHeight=this.lastS=document.body.scrollHeight,this.orientation=this.lastO=this.height>this.width?"portrait":"landscape",this.resizeTimeout=null,this.debouncedListener=this.debouncedListener.bind(this),this.throttledListener=this.throttledListener.bind(this)}return o(t,[{key:"getState",value:function(){return{height:this.height,width:this.width,scrollHeight:this.scrollHeight,orientation:this.orientation}}},{key:"debouncedListener",value:function(){this.height=window.innerHeight,this.width=window.innerWidth,this.scrollHeight=document.body.scrollHeight,this.orientation=this.height>this.width?"portrait":"landscape";var t={height:this.height,width:this.width,scrollHeight:this.scrollHeight,orientation:this.orientation};this.signal("resize.start",[t]),this.lastH=this.height,this.lastW=this.width,this.lastS=this.scrollHeight}},{key:"throttledListener",value:function(){var t=this;this.height=window.innerHeight,this.width=window.innerWidth,this.scrollHeight=document.body.scrollHeight,this.orientation=this.height>this.width?"portrait":"landscape";var i={height:this.height,width:this.width,scrollHeight:this.scrollHeight,orientation:this.orientation};this.signal("resize",[i]),this.orientation!==this.lastO&&this.signal("resize.orientationChange",[i]),this.scrollHeight!==this.lastS&&this.signal("resize.scrollHeightChange",[i]),clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(function(){t.signal("resize.stop",[i])},this.options.resizeDelay+1),this.lastH=this.height,this.lastW=this.width,this.lastS=this.scrollHeight,this.lastO=this.orientation}}]),t}();e.default=s},{}],6:[function(t,i,e){"use strict";function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}(),s=function(){function t(i,e,o){n(this,t),this.signal=i.signal,this.options=e,this.scrollTop=this.lastScrollTop=window.scrollY||window.pageYOffset,this.windowSize=o,this.scrollTimeout=null,this.debouncedListener=this.debouncedListener.bind(this),this.throttledListener=this.throttledListener.bind(this)}return o(t,[{key:"getState",value:function(){return{scrollTop:this.scrollTop,scrollPercent:this.scrollTop/(this.windowSize.scrollHeight-this.windowSize.height)*100}}},{key:"debouncedListener",value:function(){this.scrollTop=window.scrollY||window.pageYOffset,this.signal("scroll.start",[{scrollTop:this.scrollTop,scrollPercent:this.scrollTop/(this.windowSize.scrollHeight-this.windowSize.height)*100}]),this.lastScrollTop=this.scrollTop}},{key:"throttledListener",value:function(){var t=this;this.scrollTop=window.scrollY||window.pageYOffset;var i={scrollTop:this.scrollTop,scrollPercent:this.scrollTop/(this.windowSize.scrollHeight-this.windowSize.height)*100};this.signal("scroll",[i]),this.scrollTop>this.lastScrollTop?this.signal("scroll.down",[i]):this.scrollTop<this.lastScrollTop&&this.signal("scroll.up",[i]),this.scrollTop<=0&&this.signal("scroll.top",[i]),i.scrollPercent>=100&&this.signal("scroll.bottom",[i]),clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(function(){t.signal("scroll.stop",[i])},this.options.scrollDelay+1),this.lastScrollTop=this.scrollTop}}]),t}();e.default=s},{}],7:[function(t,i,e){"use strict";function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}(),s=function(){function t(i,e){n(this,t),this.signal=i.signal,this.options=e,this.visible=!document.hidden,this.changeListenter=this.changeListenter.bind(this)}return o(t,[{key:"getState",value:function(){return{visible:this.visible}}},{key:"changeListenter",value:function(){this.visible=!document.hidden;var t={visible:this.visible};this.signal("visibilityChange",[t]),this.visible?this.signal("visibilityChange.show",[t]):this.signal("visibilityChange.hide",[t])}}]),t}();e.default=s},{}]},{},[4])(4)});